<style>
    .form-container {
        max-width: 600px;
        margin: 0 auto;
    }
    .custom-dropdown {
    position: relative;
    width: 300px;
    font-family: Arial, sans-serif;
}

.selected-option {
    padding: 10px;
    border: 1px solid #ccc;
    cursor: pointer;
}

.options-container {
    display: none;
    position: absolute;
    width: 100%;
    border: 1px solid #ccc;
    background-color: #fff;
    z-index: 1000;
}

.option {
    padding: 10px;
    cursor: pointer;
}

.option:not(:last-child) {
    border-bottom: 1px solid #eee;
}

.option:hover {
    background-color: #f8f8f8;
}

.option-title {
    font-weight: bold;
}

.option-description {
    font-size: 0.9em;
    color: #555;
}

</style>
<script>
   function enablePatientDetails(selectElement) {
    // Get the patient details section
    const patientDetailsSection = document.getElementById('patient-details-section');
    
    // Check if the selected value is not empty or a placeholder value
    if (selectElement.value) {
        // Show the patient details section
        patientDetailsSection.style.display = 'block';
    } else {
        // Hide the patient details section if no service is selected
        patientDetailsSection.style.display = 'none';
    }
}
</script>
<div class="form-container">
    <h2>Registration Form</h2>
    <form action="/patient-registration" method="post" id="registration-form">
        <h3>Select a Treatment:</h3>

        <select id="services" name="treatment" onchange="enablePatientDetails(this)">
            <div class="custom-dropdown">
                <option selected disabled>Choose a Service</option>
                <div class="options-container">
                    {% for i in services %}
                    <div class="option">
                        <option onclick="selectOption(this)" value="{{ i.service_title }}">
                            <strong class="option-title">{{ i.service_title }}</strong> ---
                            <div class="option-description">{{ i.service_description }}</div>
                        </option>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </select>
        

        <!-- Patient Details Section -->
        <div class="form-section" id="patient-details-section" style="display: none;">
            <h2>Patient Details</h2>
            <label for="firstname">Firstname:</label>
            <input type="text" id="firstname" name="firstname" required><br><br>

            <label for="lastname">Lastname:</label>
            <input type="text" id="lastname" name="lastname" required><br><br>

            <label for="age">Age:</label>
            <input type="number" id="age" name="age" required><br><br>

            <label for="gender">Gender:</label>
            <select id="gender" name="gender" required>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select><br><br>

            <label for="phone">Contact Number:</label>
            <input type="text" id="phone" name="phone" required><br><br>

            <label for="email">Email Address:</label>
            <input type="text" id="email" name="email" required><br><br>

            <label for="address">Location Address:</label>
            <input type="text" id="address" name="address" required><br><br>
            <button type="submit">Register</button>
        </div>
        
    </form>
</div>

